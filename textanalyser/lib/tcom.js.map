{"version":3,"sources":["../src/tcom.js"],"names":[],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAI,SAAS,EAAb;;IAEa,Y,WAAA,Y;;;;;;;4BAEF,I,EAAM;AAAA;;AAEf,gBAAG,gBAAH,CAAoB,IAApB,EACE,IADF,CACO,wBAAM,EAAC,WAAW,GAAZ,EAAN,EACL,EADK,CACF,MADE,EACM,UAAC,MAAD,EAAY;AACvB,QAAI,YAAY,OAAO,CAAP,CAAhB;AACM,QAAI,kBAAkB,yBAAU,SAAV,CAAtB;AACN,QAAI,aAAa;AAChB,YAAM,gBAAgB,KADN;AAEhB,YAAM;AAFU,KAAjB;AAIA,WAAO,IAAP,CAAY,UAAZ;;;AAGG,IAXE,EAYL,EAZK,CAYF,KAZE,EAYI,YAAI;AACb,UAAK,UAAL;AACA,IAdK,CADP;AAiBA;;;+BAEW;AACX,OAAI,eAAe,iBAAE,MAAF,CAAS,MAAT,EAAiB,OAAjB,CAAnB;AACA,WAAQ,GAAR,CAAY,YAAZ;AAEA;;;;;;AAIF,IAAI,WAAW,IAAI,YAAJ,EAAf;;AAEA,SAAS,SAAT,CAAmB,eAAnB;AACA,SAAS,UAAT","file":"tcom.js","sourcesContent":["import sentiment from 'sentiment'\r\nimport parse from 'csv-parse';\r\nimport fs from 'fs';\r\nimport _ from 'lodash';\r\n\r\nvar tweets = [];\r\n\r\nexport class TextAnalyser { \r\n\t\t\t\r\n\tparseFile(file) {\r\n\t\t\r\n\t\tfs.createReadStream(file)\r\n\t\t\t.pipe(parse({delimiter: ','})\r\n\t\t\t.on('data', (csvrow) => {\r\n\t\t\t\tvar tweettext = csvrow[5];\r\n        \t\tvar sentimentresult = sentiment(tweettext);\r\n\t\t\t\tvar scoretweet = {\r\n\t\t\t\t\tscore:sentimentresult.score,\r\n\t\t\t\t\ttweet:tweettext\r\n\t\t\t\t};\r\n\t\t\t\ttweets.push(scoretweet);\r\n        \t\t//do something with csvrow\r\n        \t\t//csvData.push(csvrow);        \r\n    \t\t})\t\r\n\t\t\t.on('end',()=>{\r\n\t\t\t\tthis.sortTweets();\r\n\t\t\t})\t\t\t\t\t\t\r\n\t\t);\t\t\t\t\r\n\t}\r\n\t\r\n\tsortTweets(){\r\n\t\tvar sortedtweets = _.sortBy(tweets, 'score');\r\n\t\tconsole.log(sortedtweets);\r\n\t\t\r\n\t}\r\n\t\t\t\t\r\n}\r\n\r\nvar analyser = new TextAnalyser();\r\n\r\nanalyser.parseFile('data/data.csv');\r\nanalyser.sortTweets();\r\n\r\n//console.log(r1);        // Score: -2, Comparative: -0.666\r\n\r\n\r\n// var inputFile='myfile.csv';\r\n// \r\n// var parser = parse({delimiter: ','}, function (err, data) {\r\n//   async.eachSeries(data, function (line, callback) {\r\n//     // do something with the line\r\n//     doSomething(line).then(function() {\r\n//       // when processing finishes invoke the callback to move to the next one\r\n//       callback();\r\n//     });\r\n//   }\r\n// }\r\n\r\n\r\n"]}