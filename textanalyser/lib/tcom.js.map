{"version":3,"sources":["../src/tcom.js"],"names":[],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAI,SAAS,EAAb;;IAEa,Y,WAAA,Y;;;;;;;4BAEF,I,EAAM;AAAA;;AAEf,gBAAG,gBAAH,CAAoB,IAApB,EACE,IADF,CACO,wBAAM,EAAC,WAAW,GAAZ,EAAN,EACL,EADK,CACF,MADE,EACM,UAAC,MAAD,EAAY;;AAEvB,QAAI,YAAY,OAAO,CAAP,CAAhB;;AAEM,QAAI,kBAAkB,yBAAU,SAAV,CAAtB;;AAEN,QAAI,aAAa;AAChB,YAAO,gBAAgB,KADP;AAEhB,YAAO;AAFS,KAAjB;;AAKA,WAAO,IAAP,CAAY,UAAZ;AAEG,IAdE,EAeL,EAfK,CAeF,KAfE,EAeK,YAAM;AAChB,UAAK,UAAL;AACA,YAAQ,GAAR,CAAY,cAAc,MAAK,aAAL,EAA1B;AACA,IAlBK,CADP;AAqBA;;;+BAEW;AACX,OAAI,eAAe,iBAAE,MAAF,CAAS,MAAT,EAAiB,OAAjB,CAAnB;AACA,WAAQ,GAAR,CAAY,YAAZ;AACA;;;kCAEe;;AAEf,OAAI,QAAQ,OAAO,MAAnB;;AAEA,OAAI,SAAS,sBAAE,MAAF,EAAU,GAAV,CAAc,UAAC,KAAD,EAAW;AACrC,WAAO,MAAM,KAAb;AACA,IAFY,CAAb;;AAIA,OAAI,QAAQ,sBAAE,MAAF,EAAU,MAAV,EAAZ;;AAEA,OAAI,MAAM,QAAQ,KAAlB;;AAEA,UAAO,GAAP;AACA;;;;;;AAIF,IAAI,WAAW,IAAI,YAAJ,EAAf;;AAEA,SAAS,SAAT,CAAmB,eAAnB;AACA,SAAS,UAAT","file":"tcom.js","sourcesContent":["import sentiment from 'sentiment'\r\nimport parse from 'csv-parse';\r\nimport fs from 'fs';\r\nimport _ from 'lodash';\r\n\r\nvar tweets = [];\r\n\r\nexport class TextAnalyser { \r\n\t\t\t\r\n\tparseFile(file) {\r\n\t\t\r\n\t\tfs.createReadStream(file)\r\n\t\t\t.pipe(parse({delimiter: ','})\r\n\t\t\t.on('data', (csvrow) => {\r\n\t\t\t\t\r\n\t\t\t\tvar tweetText = csvrow[5];\r\n\t\t\t\t\r\n        \t\tvar sentimentResult = sentiment(tweetText);\r\n\t\t\t\t\r\n\t\t\t\tvar scoreTweet = {\r\n\t\t\t\t\tscore: sentimentResult.score,\r\n\t\t\t\t\ttweet: tweetText\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\ttweets.push(scoreTweet);\r\n        \t\t   \r\n    \t\t})\t\r\n\t\t\t.on('end', () => {\r\n\t\t\t\tthis.sortTweets();\r\n\t\t\t\tconsole.log(\"AVERAGE: \" + this.averageTweets());\r\n\t\t\t})\t\t\t\t\t\t\r\n\t\t);\t\t\t\t\r\n\t}\r\n\t\r\n\tsortTweets(){\r\n\t\tvar sortedtweets = _.sortBy(tweets, 'score');\r\n\t\tconsole.log(sortedtweets);\t\t\r\n\t}\r\n\t\r\n\taverageTweets() {\r\n\t\t\r\n\t\tvar count = tweets.length;\r\n\t\t\r\n\t\tvar scores = _(tweets).map((tweet) => {\r\n\t\t\treturn tweet.score\r\n\t\t});\r\n\t\t\r\n\t\tvar total = _(scores).reduce();\r\n\t\t\r\n\t\tvar avg = total / count;\r\n\t\t\r\n\t\treturn avg;\r\n\t}\r\n\t\t\t\t\r\n}\r\n\r\nvar analyser = new TextAnalyser();\r\n\r\nanalyser.parseFile('data/data.csv');\r\nanalyser.sortTweets();"]}